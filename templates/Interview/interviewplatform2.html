{% extends "/common/baseIDE.html" %}

{% block content %}

  <script>
      function display_error() {}
      function keypress() {
          {#alert("HI2")#}
          document.getElementById("chat_btn").click();
        }
    </script>
{#    {% include '/common/header.html' %}<br/><br/><br/><br/>#}
<head>

  <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
  <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

  <link href="https://fonts.googleapis.com/css?family=Exo+2" rel="stylesheet">

  <link rel="stylesheet" href="/static/css/codemirror.css">
  <script src="/static/js/codemirror.js"></script>
  <script src="/static/js/mode/simple.js"></script>
  <script src="/static/js/mode/clike.js"></script>
  <script src="/static/js/mode/clojure.js"></script>
  <script src="/static/js/mode/crystal.js"></script>
  <script src="/static/js/mode/elixir.js"></script>
  <script src="/static/js/mode/erlang.js"></script>
  <script src="/static/js/mode/go.js"></script>
  <script src="/static/js/mode/haskell.js"></script>
  <script src="/static/js/mode/javascript.js"></script>
  <script src="/static/js/mode/mllike.js"></script>
  <script src="/static/js/mode/octave.js"></script>
  <script src="/static/js/mode/pascal.js"></script>
  <script src="/static/js/mode/python.js"></script>
  <script src="/static/js/mode/ruby.js"></script>
  <script src="/static/js/mode/rust.js"></script>
  <script src="/static/js/mode/shell.js"></script>

  <script src="/static/js/download.js"></script>

  <link rel="stylesheet" href="/static/css/addon/dialog.css">

  <script src="/static/js/addon/searchcursor.js"></script>
  <script src="/static/js/addon/search.js"></script>
  <script src="/static/js/addon/dialog.js"></script>
  <script src="/static/js/addon/matchbrackets.js"></script>
  <script src="/static/js/addon/closebrackets.js"></script>

  <script src="/static/js/keymap/vim.js"></script>

  <link rel="stylesheet" href="/static/css/ide.css">
  <script src="/static/js/ide.js"></script>

  <title>Judge0 IDE</title>
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
</head>

  <nav class=" navbar-default ">
    <div class="container-fluid">
        <div>
{#            class="navbar-header"#}
{#        <a class="navbar-brand" href="https://ide.judge0.com">#}
            <a class="navbar-brand" href="/">
                Interview Geek
            </a>
            <br>
            <span style="padding-left: 72.2%"></span>
{#            <button style="padding-left: 50%" class="btn btn-success" id="endInterview">#}
            <a class="btn btn-danger" id="endInterview" href="/dashboard">
                <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>
                    End Interview
            </a>
{#            <p align="right">#}
{#                <input type="button" value="End Interview">#}
{#            </p>#}
{#            <button align="right">End Interview</button>#}
        </div>
{#      <ul class="nav navbar-nav navbar-left">#}
{#        <li><a id="apiLink" target="_blank" href=""></a></li>#}
{#      </ul>#}
{#      <div class="navbar-form navbar-right">#}
        <div class="navbar-form" style="padding-left: 36%">
        <div class="input-group">
{#          <div class="input-group-btn">#}
              <button id="insertTemplateBtn" type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Insert template">
                  <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
              </button>
{#          </div>#}
          <select class="form-control" id="selectLanguageBtn">
              <option value="1" mode="text/x-sh">Bash (4.4)</option>
              <option value="2" mode="text/x-sh">Bash (4.0)</option>
              <option value="3" mode="text/x-pascal">Basic (fbc 1.05.0)</option>
              <option value="4" mode="text/x-csrc">C (gcc 7.2.0)</option>
              <option value="5" mode="text/x-csrc">C (gcc 6.4.0)</option>
              <option value="6" mode="text/x-csrc">C (gcc 6.3.0)</option>
              <option value="7" mode="text/x-csrc">C (gcc 5.4.0)</option>
              <option value="8" mode="text/x-csrc">C (gcc 4.9.4)</option>
              <option value="9" mode="text/x-csrc">C (gcc 4.8.5)</option>
              <option value="10" mode="text/x-c++src">C++ (g++ 7.2.0)</option>
              <option value="11" mode="text/x-c++src">C++ (g++ 6.4.0)</option>
              <option value="12" mode="text/x-c++src">C++ (g++ 6.3.0)</option>
              <option value="13" mode="text/x-c++src">C++ (g++ 5.4.0)</option>
              <option value="14" mode="text/x-c++src">C++ (g++ 4.9.4)</option>
              <option value="15" mode="text/x-c++src">C++ (g++ 4.8.5)</option>
              <option value="16" mode="text/x-csharp">C# (mono 5.4.0.167)</option>
              <option value="17" mode="text/x-csharp">C# (mono 5.2.0.224)</option>
              <option value="18" mode="text/x-clojure">Clojure (1.8.0)</option>
              <option value="19" mode="text/x-crystal">Crystal (0.23.1)</option>
              <option value="20" mode="text/x-elixir">Elixir (1.5.1)</option>
              <option value="21" mode="text/x-erlang">Erlang (OTP 20.0)</option>
              <option value="22" mode="text/x-go">Go (1.9)</option>
              <option value="23" mode="text/x-haskell">Haskell (ghc 8.2.1)</option>
              <option value="24" mode="text/x-haskell">Haskell (ghc 8.0.2)</option>
              <option value="25" mode="text/plain">Insect (5.0.0)</option>
              <option value="26" mode="text/x-java">Java (OpenJDK 9 with Eclipse OpenJ9)</option>
              <option value="27" mode="text/x-java">Java (OpenJDK 8)</option>
              <option value="28" mode="text/x-java">Java (OpenJDK 7)</option>
              <option value="29" mode="text/javascript">JavaScript (nodejs 8.5.0)</option>
              <option value="30" mode="text/javascript">JavaScript (nodejs 7.10.1)</option>
              <option value="31" mode="text/x-ocaml">OCaml (4.05.0)</option>
              <option value="32" mode="text/x-octave">Octave (4.2.0)</option>
              <option value="33" mode="text/x-pascal">Pascal (fpc 3.0.0)</option>
              <option value="34" mode="text/x-python">Python (3.6.0)</option>
              <option value="35" mode="text/x-python">Python (3.5.3)</option>
              <option value="36" mode="text/x-python">Python (2.7.9)</option>
              <option value="37" mode="text/x-python">Python (2.6.9)</option>
              <option value="38" mode="text/x-ruby">Ruby (2.4.0)</option>
              <option value="39" mode="text/x-ruby">Ruby (2.3.3)</option>
              <option value="40" mode="text/x-ruby">Ruby (2.2.6)</option>
              <option value="41" mode="text/x-ruby">Ruby (2.1.9)</option>
              <option value="42" mode="text/x-rustsrc">Rust (1.20.0)</option>
              <option value="43" mode="text/plain">Text (plain text)</option>
          </select>
            <span style="padding-left: 2px"></span>
            <button class="btn btn-success" id="runBtn" data-loading-text="Running...">
                <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Run (F9)
            </button>
            <span style="padding-left: 2px"></span>
            <button class="btn btn-primary" id="saveBtn" data-loading-text="Saving...">
                <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Save (Ctrl+S)
            </button>
            <span style="padding-left: 2px"></span>
            <button class="btn btn-default" id="downloadSourceBtn" data-toggle="tooltip" data-placement="bottom" title="Download source">
                <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
            </button>
            <p class="vertical-spacer"></p>
{#            <span style="padding-left: 2px"></span>#}

{#        <div class="vertical-spacer"></div>#}
        <input type="checkbox" id="vimCheckBox" data-toggle="toggle" data-on="Vim Mode On" data-off="Vim Mode Off" data-onstyle="success">
        </div>
{#        <button class="btn btn-success" id="runBtn" data-loading-text="Running...">#}
{#          <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Run (F9)#}
{#        </button>#}
{#        <button class="btn btn-primary" id="saveBtn" data-loading-text="Saving...">#}
{#          <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Save (Ctrl+S)#}
{#        </button>#}
{#        <button class="btn btn-default" id="downloadSourceBtn" data-toggle="tooltip" data-placement="bottom" title="Download source">#}
{#          <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>#}
{#        </button>#}
{#        <div class="vertical-spacer"></div>#}
{#        <input type="checkbox" id="vimCheckBox" data-toggle="toggle" data-on="Vim Mode On" data-off="Vim Mode Off" data-onstyle="success">#}
        </div>
    </div>
  </nav>

    <div id="sourceEditor" onkeypress="keypress()"></div>
    <button id="chat_btn" hidden style="width: 50px;height: 50px"> Click Me </button>

  <div class="container-fluid">
    <div class="row labels">
      <div id="inputLabel" class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
          <h4>
              <span class="glyphicon glyphicon-log-in" aria-hidden="true"></span> Input <small>optional</small>
              <button class="btn btn-default pull-right" id="downloadInputBtn" data-toggle="tooltip" data-placement="top" title="Download input">
                  <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
              </button>
          </h4>
      </div>
      <div id="outputLabel" class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
          <h4>
              <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Output <small id="emptyIndicator">empty</small>
              <button class="btn btn-default pull-right" id="downloadOutputBtn" data-toggle="tooltip" data-placement="top" title="Download output">
                  <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
              </button>
              <small class="pull-right" id="statusLine"></small>
          </h4>
      </div>
    </div>

    <div class="row ioEditors">
        <div id="inputEditor" class="col-xs-6 col-sm-6 col-md-6 col-lg-6"></div>
        <div id="outputEditor" class="col-xs-6 col-sm-6 col-md-6 col-lg-6"></div>
    </div>
  </div>


    <script src="https://js.pusher.com/4.3/pusher.min.js"></script>
    <script>
        $(function () {
            $('#chat_btn').on('click', function () {
                var author = '{{ session["username"] }}';
                var message = document.getElementById('sourceEditor').innerHTML;
                {#alert(message)#}
                if (message.trim() != "") {
                    $.post('/mymessage', {'author': author,'data': message}, function () {
                    });
                }
            });
            // Enable pusher logging - don't include this in production
            Pusher.logToConsole = true;
            var pusher = new Pusher('76e1eff5e36b22e9f0ef', {
                cluster: 'ap2',
                forceTLS: true
            });
            var channel = pusher.subscribe('my-channel');
            channel.bind('new-message', function (data) {
                var author = data.author;
                var message = data.data;
                {#alert("Hiiii")#}
                if (author != '{{ session.username }}')
                    document.getElementById("sourceEditor").innerHTML = message
            });
        });

        $(document).ready(function() {
            alert('{{ link }}');
            window.open('{{ link }}' , '_blank','toolbar=0,location=0,menubar=0');
        });
    </script>

{#{% include '/common/footer.html' %}#}
{% endblock %}